{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-4xl font-bold text-center text-pink-500 mb-8">Catalogue</h1>

<!-- Navigation -->
<div class="flex justify-center space-x-8 mb-8">
    <a class="{% if request.GET.category == 'fashion' and request.GET.subcategory == 'Shirt' %}text-pink-500 font-bold{% else %}text-gray-500{% endif %}" 
       href="{% url 'catalogue' %}?category=fashion&subcategory=Shirt">
       SHIRTS
    </a>

    <a class="{% if request.GET.category == 'fashion' and request.GET.subcategory == 'Dress' %}text-pink-500 font-bold{% else %}text-gray-500{% endif %}" 
       href="{% url 'catalogue' %}?category=fashion&subcategory=Dress">
       DRESSES
    </a>

    <a class="{% if request.GET.category == 'fashion' and request.GET.subcategory == 'Outerwear' %}text-pink-500 font-bold{% else %}text-gray-500{% endif %}" 
       href="{% url 'catalogue' %}?category=fashion&subcategory=Outerwear">
       OUTERWEAR
    </a>

    <a class="{% if request.GET.category == 'fashion' and request.GET.subcategory == 'Bottom' %}text-pink-500 font-bold{% else %}text-gray-500{% endif %}" 
       href="{% url 'catalogue' %}?category=fashion&subcategory=Bottom">
       BOTTOMS
    </a>

    <a class="{% if request.GET.category == 'beauty' %}text-pink-500 font-bold{% else %}text-gray-500{% endif %}" 
       href="{% url 'catalogue' %}?category=beauty">
       BEAUTY
    </a>

    <a class="{% if request.GET.category == 'accessories' %}text-pink-500 font-bold{% else %}text-gray-500{% endif %}" 
       href="{% url 'catalogue' %}?category=accessories">
       ACCESSORIES
    </a>
</div>

    <!-- Fashion Section -->
    <h2 class="text-2xl font-bold text-gray-700 mb-4">Fashion</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
        {% for product in fashion_products %}
        <div class="bg-white p-4 rounded-lg flex flex-col text-center shadow-md">
            {% with product.images.first as img %}
                <img src="{{ img.image.url }}" alt="{{ product.name }}" class="w-full aspect-[3/4] object-cover mb-4 rounded-lg" />
            {% endwith %}
            <h2 class="text-lg font-normal mb-2">{{ product.name }}</h2>
            
            <!-- Flexbox container for price and cart -->
            <div class="flex justify-between items-center mt-auto">
                <p class="text-pink-500 text-lg">Rp {{ product.price|intcomma }}</p>
                <button class="bg-pink-500 text-white px-4 py-2 rounded-lg flex items-center justify-center">
                    <i class="fas fa-shopping-cart"></i>
                </button>
            </div>
        </div>        
        {% endfor %}
    </div>

    <!-- Beauty Section -->
    <h2 class="text-2xl font-bold text-gray-700 mt-8 mb-4">Beauty</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
        {% for product in beauty_products %}
        <div class="bg-white p-4 rounded-lg flex flex-col text-center shadow-md">
            {% with product.images.first as img %}
                <img src="{{ img.image.url }}" alt="{{ product.name }}" class="w-full aspect-[3/4] object-cover mb-4 rounded-lg" />
            {% endwith %}
            <h2 class="text-lg font-normal mb-2">{{ product.name }}</h2>
            
            <!-- Flexbox container for price and cart -->
            <div class="flex justify-between items-center mt-auto">
                <p class="text-pink-500 text-lg">Rp {{ product.price|intcomma }}</p>
                <button class="bg-pink-500 text-white px-4 py-2 rounded-lg flex items-center justify-center">
                    <i class="fas fa-shopping-cart"></i>
                </button>
            </div>
        </div>        
        {% endfor %}
    </div>

    <!-- Accessories Section -->
    <h2 class="text-2xl font-bold text-gray-700 mt-8 mb-4">Accessories</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
        {% for product in accessories_products %}
        <div class="bg-white p-4 rounded-lg flex flex-col text-center shadow-md">
            {% with product.images.first as img %}
                <img src="{{ img.image.url }}" alt="{{ product.name }}" class="w-full h-72 object-cover mb-4 rounded-lg" />
            {% endwith %}
            <h2 class="text-lg font-normal mb-2">{{ product.name }}</h2>
            
            <!-- Flexbox container for price and cart -->
            <div class="flex justify-between items-center mt-auto">
                <p class="text-pink-500 text-lg">Rp {{ product.price|intcomma }}</p>
                <button class="bg-pink-500 text-white px-4 py-2 rounded-lg flex items-center justify-center">
                    <i class="fas fa-shopping-cart"></i>
                </button>
            </div>
        </div>        
        {% endfor %}
    </div>
</div>
{% endblock %}